<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="momo"><meta name="copyright" content="momo"><meta name="generator" content="Hexo 5.2.0"><meta name="theme" content="hexo-theme-yun"><title>Java中的Calendar日历API用法完全解析 | 我的笔记</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.25/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism-tomorrow.css" media="(prefers-color-scheme: dark)"><link rel="icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"ppxiaodi.github.io","root":"/","title":"momo的小站","version":"1.7.0","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"搜索...","empty":"找不到您查询的内容: ${query}","hits":"找到 ${hits} 条结果","hits_time":"找到 ${hits} 条结果（用时 ${time} 毫秒）"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"local_search":{"path":"/search.xml"},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><meta name="description" content="Java中的Calendar日历API用法完全解析 ¶第一部分 Calendar介绍 Calendar 定义: public abstract class Calendar implements Serializable, Cloneable, Comparable&lt;Calendar&gt; &amp;#123;&amp;#125; Calendar 可以看作是一个抽象类。 它的实现，采用了设计模式中的工厂方法。">
<meta property="og:type" content="article">
<meta property="og:title" content="Java中的Calendar日历API用法完全解析">
<meta property="og:url" content="https://ppxiaodi.github.io/2020/12/11/CollectionNote/java/%E6%97%B6%E9%97%B4/Java%E4%B8%AD%E7%9A%84Calendar%E6%97%A5%E5%8E%86API%E7%94%A8%E6%B3%95%E5%AE%8C%E5%85%A8%E8%A7%A3%E6%9E%90/index.html">
<meta property="og:site_name" content="我的笔记">
<meta property="og:description" content="Java中的Calendar日历API用法完全解析 ¶第一部分 Calendar介绍 Calendar 定义: public abstract class Calendar implements Serializable, Cloneable, Comparable&lt;Calendar&gt; &amp;#123;&amp;#125; Calendar 可以看作是一个抽象类。 它的实现，采用了设计模式中的工厂方法。">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-12-10T16:00:00.000Z">
<meta property="article:modified_time" content="2021-07-11T08:54:54.038Z">
<meta property="article:author" content="momo">
<meta property="article:tag" content="java">
<meta property="article:tag" content="时间">
<meta name="twitter:card" content="summary"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="文章目录"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="站点概览"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="momo"><img width="96" loading="lazy" src="/yun.png" alt="momo"></a><div class="site-author-name"><a href="/about/">momo</a></div><a class="site-name" href="/about/site.html">我的笔记</a><sub class="site-subtitle"></sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="首页"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="归档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">198</span></a></div><div class="site-state-item"><a href="/categories/" title="分类"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">58</span></a></div><div class="site-state-item"><a href="/tags/" title="标签"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">47</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="文档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-rss-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://qm.qq.com/cgi-bin/qm/qr?k=kZJzggTTCf4SpvEQ8lXWoi5ZjhAx0ILZ&amp;jump_from=webapi" title="QQ 群 1050458482" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/YunYouJun" title="GitHub" target="_blank" style="color:#6e5494"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://weibo.com/jizhideyunyoujun" title="微博" target="_blank" style="color:#E6162D"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-weibo-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.douban.com/people/yunyoujun/" title="豆瓣" target="_blank" style="color:#007722"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-douban-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=247102977" title="网易云音乐" target="_blank" style="color:#C20C0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.zhihu.com/people/yunyoujun/" title="知乎" target="_blank" style="color:#0084FF"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-zhihu-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/1579790" title="哔哩哔哩" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/about/white-qrcode-and-search.jpg" title="微信公众号" target="_blank" style="color:#1AAD19"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-2-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://twitter.com/YunYouJun" title="Twitter" target="_blank" style="color:#1da1f2"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-twitter-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://t.me/elpsycn" title="Telegram Channel" target="_blank" style="color:#0088CC"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-telegram-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:me@yunyoujun.cn" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://travellings.link" title="Travelling" target="_blank" style="color:var(--hty-text-color)"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-train-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="我的小伙伴们" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">Java中的Calendar日历API用法完全解析</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86-Calendar%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.</span> <span class="toc-text">第一部分 Calendar介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86-Calendar%E7%9A%84%E5%8E%9F%E7%90%86%E5%92%8C%E6%80%9D%E6%83%B3"><span class="toc-number">1.2.</span> <span class="toc-text">第二部分 Calendar的原理和思想</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Calendar-%E5%90%84%E4%B8%AA%E5%AD%97%E6%AE%B5%E5%80%BC%E7%9A%84%E6%9D%A5%E6%BA%90"><span class="toc-number">1.2.1.</span> <span class="toc-text">1. Calendar 各个字段值的来源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Calendar-%E5%90%84%E4%B8%AA%E5%AD%97%E6%AE%B5%E7%9A%84%E5%AE%9A%E4%B9%89%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">1.2.2.</span> <span class="toc-text">2. Calendar 各个字段的定义和初始化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E6%AE%B50-public-final-static-int-ERA-0"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">(字段0) public final static int ERA &#x3D; 0;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E6%AE%B51-public-final-static-int-YEAR-1"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">(字段1) public final static int YEAR &#x3D; 1;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E6%AE%B53-public-final-static-int-WEEK-OF-YEAR-3"><span class="toc-number">1.2.2.3.</span> <span class="toc-text">(字段3) public final static int WEEK_OF_YEAR &#x3D; 3;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E6%AE%B54-public-final-static-int-WEEK-OF-MONTH-4"><span class="toc-number">1.2.2.4.</span> <span class="toc-text">(字段4) public final static int WEEK_OF_MONTH &#x3D; 4;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E6%AE%B55-public-final-static-int-DATE-5"><span class="toc-number">1.2.2.5.</span> <span class="toc-text">(字段5) public final static int DATE &#x3D; 5;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E6%AE%B55-public-final-static-int-DAY-OF-MONTH-5"><span class="toc-number">1.2.2.6.</span> <span class="toc-text">(字段5) public final static int DAY_OF_MONTH &#x3D; 5;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E6%AE%B56-public-final-static-int-DAY-OF-YEAR-6"><span class="toc-number">1.2.2.7.</span> <span class="toc-text">(字段6) public final static int DAY_OF_YEAR &#x3D; 6;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E6%AE%B57-public-final-static-int-DAY-OF-WEEK-7"><span class="toc-number">1.2.2.8.</span> <span class="toc-text">(字段7) public final static int DAY_OF_WEEK &#x3D; 7;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E6%AE%B58-public-final-static-int-DAY-OF-WEEK-IN-MONTH-8"><span class="toc-number">1.2.2.9.</span> <span class="toc-text">(字段8) public final static int DAY_OF_WEEK_IN_MONTH &#x3D; 8;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E6%AE%B59-public-final-static-int-AM-PM-9"><span class="toc-number">1.2.2.10.</span> <span class="toc-text">(字段9) public final static int AM_PM &#x3D; 9;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E6%AE%B510-public-final-static-int-HOUR-10"><span class="toc-number">1.2.2.11.</span> <span class="toc-text">(字段10) public final static int HOUR &#x3D; 10;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E6%AE%B511-public-final-static-int-HOUR-OF-DAY-11"><span class="toc-number">1.2.2.12.</span> <span class="toc-text">(字段11) public final static int HOUR_OF_DAY &#x3D; 11;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E6%AE%B512-public-final-static-int-MINUTE-12"><span class="toc-number">1.2.2.13.</span> <span class="toc-text">(字段12) public final static int MINUTE &#x3D; 12;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E6%AE%B513-public-final-static-int-SECOND-13"><span class="toc-number">1.2.2.14.</span> <span class="toc-text">(字段13) public final static int SECOND &#x3D; 13;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E6%AE%B514-public-final-static-int-MILLISECOND-14"><span class="toc-number">1.2.2.15.</span> <span class="toc-text">(字段14) public final static int MILLISECOND &#x3D; 14;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E6%AE%B515-public-final-static-int-ZONE-OFFSET-15"><span class="toc-number">1.2.2.16.</span> <span class="toc-text">(字段15) public final static int ZONE_OFFSET &#x3D; 15;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E6%AE%B516-public-final-static-int-DST-OFFSET-16"><span class="toc-number">1.2.2.17.</span> <span class="toc-text">(字段16) public final static int DST_OFFSET &#x3D; 16;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9917%E4%B8%AA%E5%AD%97%E6%AE%B5%E6%98%AF%E4%BF%9D%E5%AD%98%E5%9C%A8int%E6%95%B0%E7%BB%84%E4%B8%AD%E3%80%82%E5%AE%9A%E4%B9%89%E5%A6%82%E4%B8%8B%EF%BC%9A"><span class="toc-number">1.2.2.18.</span> <span class="toc-text">这17个字段是保存在int数组中。定义如下：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Calendar-%E5%90%84%E4%B8%AA%E5%AD%97%E6%AE%B5%E5%80%BC%E7%9A%84%E8%AE%A1%E7%AE%97"><span class="toc-number">1.2.3.</span> <span class="toc-text">3. Calendar 各个字段值的计算</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#get-int-field-%E6%98%AF%E8%8E%B7%E5%8F%96%E2%80%9Cfield%E2%80%9D%E5%AD%97%E6%AE%B5%E7%9A%84%E5%80%BC%E3%80%82%E5%AE%83%E7%9A%84%E5%AE%9A%E4%B9%89%E5%A6%82%E4%B8%8B%EF%BC%9A"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">get(int field)是获取“field”字段的值。它的定义如下：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-internalGet-field"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">(1)internalGet(field)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-getActualMaximum-int-field"><span class="toc-number">1.2.3.3.</span> <span class="toc-text">(2) getActualMaximum(int field)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-getMinimum-int-field"><span class="toc-number">1.2.3.4.</span> <span class="toc-text">(3) getMinimum(int field)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-getActualMinimum-int-field"><span class="toc-number">1.2.3.5.</span> <span class="toc-text">(4) getActualMinimum(int field)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%885-get-int-field"><span class="toc-number">1.2.3.6.</span> <span class="toc-text">（5) get(int field)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%886-set-int-field-int-value"><span class="toc-number">1.2.3.7.</span> <span class="toc-text">（6) set(int field, int value)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-add-int-field-int-value"><span class="toc-number">1.2.3.8.</span> <span class="toc-text">(7) add(int field, int value)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-roll-int-field-int-value"><span class="toc-number">1.2.3.9.</span> <span class="toc-text">(8) roll(int field, int value)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-clear-int-field"><span class="toc-number">1.2.3.10.</span> <span class="toc-text">(9) clear(int field)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Calendar%E7%9A%84%E5%85%B6%E5%AE%83%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.4.</span> <span class="toc-text">2. Calendar的其它函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%97%A5%E6%9C%9F%E6%AF%94%E8%BE%83%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.4.1.</span> <span class="toc-text">(1) 日期比较函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E2%80%9C%E5%AE%BD%E5%AE%B9%E2%80%9D%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.4.2.</span> <span class="toc-text">(2) “宽容”函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E2%80%9C%E5%B9%B4%E6%9C%88%E6%97%A5-%E6%97%B6%E5%88%86%E7%A7%92-%E2%80%9D%E3%80%81Date%E3%80%81TimeZone%E3%80%81MilliSecond%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.4.3.</span> <span class="toc-text">(3) “年月日(时分秒)”、Date、TimeZone、MilliSecond函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%85%B6%E5%AE%83%E6%93%8D%E4%BD%9C"><span class="toc-number">1.2.4.4.</span> <span class="toc-text">(4) 其它操作</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86-Calendar%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B"><span class="toc-number">1.3.</span> <span class="toc-text">第四部分 Calendar使用示例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E9%83%A8%E5%88%86-%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84Calendar%E6%8E%A5%E5%8F%A3%E7%A4%BA%E4%BE%8B"><span class="toc-number">1.4.</span> <span class="toc-text">第五部分 自定义的Calendar接口示例</span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://ppxiaodi.github.io/2020/12/11/CollectionNote/java/%E6%97%B6%E9%97%B4/Java%E4%B8%AD%E7%9A%84Calendar%E6%97%A5%E5%8E%86API%E7%94%A8%E6%B3%95%E5%AE%8C%E5%85%A8%E8%A7%A3%E6%9E%90/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="momo"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="我的笔记"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Java中的Calendar日历API用法完全解析</h1><div class="post-meta"><div class="post-time" style="display:inline-block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="创建时间：2020-12-11 00:00:00" itemprop="dateCreated datePublished" datetime="2020-12-11T00:00:00+08:00">2020-12-11</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="修改时间：2021-07-11 16:54:54" itemprop="dateModified" datetime="2021-07-11T16:54:54+08:00">2021-07-11</time></div><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/java/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">java</span></a></span> > <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/java/%E6%97%B6%E9%97%B4/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">时间</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/java/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">java</span></a><a class="tag-item" href="/tags/%E6%97%B6%E9%97%B4/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">时间</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><h1>Java中的Calendar日历API用法完全解析</h1>
<h2 id="第一部分-Calendar介绍"><a class="header-anchor" href="#第一部分-Calendar介绍">¶</a>第一部分 Calendar介绍</h2>
<p>Calendar 定义:</p>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">public abstract class Calendar implements Serializable, Cloneable, Comparable<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Calendar</span><span class="token punctuation">></span></span> &#123;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Calendar 可以看作是一个抽象类。<br>
它的实现，采用了设计模式中的工厂方法。表现在：当我们获取Calendar实例时，Calendar会根据传入的参数来返回相应的Calendar对象。获取Calendar实例，有以下两种方式：<br>
<em><strong>(1) 当我们通过 Calendar.getInstance() 获取日历时，默认的是返回的一个GregorianCalendar对象。<br>
GregorianCalendar是Calendar的一个实现类，它提供了世界上大多数国家/地区使用的标准日历系统。</strong></em><br>
<em><strong>(2) 当我们通过 Calendar.getInstance(TimeZone timezone, Locale locale) 或 Calendar.getInstance(TimeZone timezone) 或 Calendar.getInstance(Locale locale)获取日历时，是返回“对应时区(zone) 或 地区(local)等所使用的日历”。</strong></em><br>
例如，若是日本，则返回JapaneseImperialCalendar对象。</p>
<p>参考如下代码：</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Calendar</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
 <span class="token comment">// 调用createCalendar()创建日历</span>
 <span class="token class-name">Calendar</span> cal <span class="token operator">=</span> <span class="token function">createCalendar</span><span class="token punctuation">(</span><span class="token class-name">TimeZone</span><span class="token punctuation">.</span><span class="token function">getDefaultRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Locale</span><span class="token punctuation">.</span><span class="token function">getDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 cal<span class="token punctuation">.</span>sharedZone <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> cal<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
 
 
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Calendar</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token class-name">TimeZone</span> zone<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
 <span class="token comment">// 调用createCalendar()创建日历</span>
 <span class="token keyword">return</span> <span class="token function">createCalendar</span><span class="token punctuation">(</span>zone<span class="token punctuation">,</span> <span class="token class-name">Locale</span><span class="token punctuation">.</span><span class="token function">getDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
 
 
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Calendar</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token class-name">Locale</span> aLocale<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token comment">// 调用createCalendar()创建日历</span>
 <span class="token class-name">Calendar</span> cal <span class="token operator">=</span> <span class="token function">createCalendar</span><span class="token punctuation">(</span><span class="token class-name">TimeZone</span><span class="token punctuation">.</span><span class="token function">getDefaultRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> aLocale<span class="token punctuation">)</span><span class="token punctuation">;</span>
 cal<span class="token punctuation">.</span>sharedZone <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> cal<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
 
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Calendar</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token class-name">TimeZone</span> zone<span class="token punctuation">,</span>
   <span class="token class-name">Locale</span> aLocale<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
 <span class="token comment">// 调用createCalendar()创建日历</span>
 <span class="token keyword">return</span> <span class="token function">createCalendar</span><span class="token punctuation">(</span>zone<span class="token punctuation">,</span> aLocale<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
 
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Calendar</span> <span class="token function">createCalendar</span><span class="token punctuation">(</span><span class="token class-name">TimeZone</span> zone<span class="token punctuation">,</span>
   <span class="token class-name">Locale</span> aLocale<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
 <span class="token comment">// (01) 若地区是“th”，则返回BuddhistCalendar对象</span>
 <span class="token comment">// (02) 若地区是“JP”，则返回JapaneseImperialCalendar对象</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"th"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>aLocale<span class="token punctuation">.</span><span class="token function">getLanguage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token string">"TH"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>aLocale<span class="token punctuation">.</span><span class="token function">getCountry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token keyword">return</span> <span class="token keyword">new</span> sun<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token class-name">BuddhistCalendar</span><span class="token punctuation">(</span>zone<span class="token punctuation">,</span> aLocale<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"JP"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>aLocale<span class="token punctuation">.</span><span class="token function">getVariant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 <span class="token operator">&amp;&amp;</span> <span class="token string">"JP"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>aLocale<span class="token punctuation">.</span><span class="token function">getCountry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 <span class="token operator">&amp;&amp;</span> <span class="token string">"ja"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>aLocale<span class="token punctuation">.</span><span class="token function">getLanguage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">JapaneseImperialCalendar</span><span class="token punctuation">(</span>zone<span class="token punctuation">,</span> aLocale<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span> 
 
 <span class="token comment">// (03) 否则，返回GregorianCalendar对象</span>
 <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">GregorianCalendar</span><span class="token punctuation">(</span>zone<span class="token punctuation">,</span> aLocale<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>当我们获取Calendar实例之后，就可以通过Calendar提供的一些列方法来操作日历。</p>
<h2 id="第二部分-Calendar的原理和思想"><a class="header-anchor" href="#第二部分-Calendar的原理和思想">¶</a>第二部分 Calendar的原理和思想</h2>
<p>我们使用Calendar，无非是操作Calendar的“年、月、日、星期、时、分、秒”这些字段。下面，我们对这些字段的的来源、定义以及计算方法进行学习。</p>
<h3 id="1-Calendar-各个字段值的来源"><a class="header-anchor" href="#1-Calendar-各个字段值的来源">¶</a>1. Calendar 各个字段值的来源</h3>
<p>我们使用Calendar，无非是使用“年、月、日、星期、时、分、秒”等信息。那么它是如何做到的呢？ 本质上，Calendar就是保存了一个时间。如下定义：</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// time 是当前时间，单位是毫秒。</span>
<span class="token comment">// 它是当前时间距离“January 1, 1970, 0:00:00 GMT”的差值。</span>
<span class="token keyword">protected</span> <span class="token keyword">long</span> time<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>Calendar就是根据 time 计算出 “Calendar的年、月、日、星期、时、分、秒”等等信息。</p>
<h3 id="2-Calendar-各个字段的定义和初始化"><a class="header-anchor" href="#2-Calendar-各个字段的定义和初始化">¶</a>2. Calendar 各个字段的定义和初始化</h3>
<p>Calendar 的“年、月、日、星期、时、分、秒”这些信息，一共是17个字段。<br>
我们使用Calendar，无非是就是使用这17个字段。它们的定义如下：</p>
<h4 id="字段0-public-final-static-int-ERA-0"><a class="header-anchor" href="#字段0-public-final-static-int-ERA-0">¶</a>(字段0) public final static int ERA = 0;</h4>
<p>说明：纪元。<br>
取值：只能为0 或 1。0表示BC(“before Christ”,即公元前)，1表示AD(拉丁语“Anno Domini”,即公元)。</p>
<h4 id="字段1-public-final-static-int-YEAR-1"><a class="header-anchor" href="#字段1-public-final-static-int-YEAR-1">¶</a>(字段1) public final static int YEAR = 1;</h4>
<p>说明：年。<br>
(字段2) public final static int MONTH = 2;<br>
说明：月<br>
取值：可以为，JANUARY, FEBRUARY, MARCH, APRIL, MAY, JUNE, JULY, AUGUST, SEPTEMBER, OCTOBER, NOVEMBER, DECEMBER, UNDECIMBER。<br>
其中第一个月是 JANUARY，它为 0。</p>
<h4 id="字段3-public-final-static-int-WEEK-OF-YEAR-3"><a class="header-anchor" href="#字段3-public-final-static-int-WEEK-OF-YEAR-3">¶</a>(字段3) public final static int WEEK_OF_YEAR = 3;</h4>
<p>说明：当前日期在本年中对应第几个星期。一年中第一个星期的值为 1。</p>
<h4 id="字段4-public-final-static-int-WEEK-OF-MONTH-4"><a class="header-anchor" href="#字段4-public-final-static-int-WEEK-OF-MONTH-4">¶</a>(字段4) public final static int WEEK_OF_MONTH = 4;</h4>
<p>说明：当前日期在本月中对应第几个星期。一个月中第一个星期的值为 1。</p>
<h4 id="字段5-public-final-static-int-DATE-5"><a class="header-anchor" href="#字段5-public-final-static-int-DATE-5">¶</a>(字段5) public final static int DATE = 5;</h4>
<p>说明：日。一个月中第一天的值为 1。</p>
<h4 id="字段5-public-final-static-int-DAY-OF-MONTH-5"><a class="header-anchor" href="#字段5-public-final-static-int-DAY-OF-MONTH-5">¶</a>(字段5) public final static int DAY_OF_MONTH = 5;</h4>
<p>说明：同“DATE”，表示“日”。</p>
<h4 id="字段6-public-final-static-int-DAY-OF-YEAR-6"><a class="header-anchor" href="#字段6-public-final-static-int-DAY-OF-YEAR-6">¶</a>(字段6) public final static int DAY_OF_YEAR = 6;</h4>
<p>说明：当前日期在本年中对应第几天。一年中第一天的值为 1。</p>
<h4 id="字段7-public-final-static-int-DAY-OF-WEEK-7"><a class="header-anchor" href="#字段7-public-final-static-int-DAY-OF-WEEK-7">¶</a>(字段7) public final static int DAY_OF_WEEK = 7;</h4>
<p>说明：星期几。<br>
取值：可以为，SUNDAY、MONDAY、TUESDAY、WEDNESDAY、THURSDAY、FRIDAY 和 SATURDAY。<br>
其中，SUNDAY为1，MONDAY为2，依次类推。</p>
<h4 id="字段8-public-final-static-int-DAY-OF-WEEK-IN-MONTH-8"><a class="header-anchor" href="#字段8-public-final-static-int-DAY-OF-WEEK-IN-MONTH-8">¶</a>(字段8) public final static int DAY_OF_WEEK_IN_MONTH = 8;</h4>
<p>说明：当前月中的第几个星期。<br>
取值：DAY_OF_MONTH 1 到 7 总是对应于 DAY_OF_WEEK_IN_MONTH 1；8 到 14 总是对应于 DAY_OF_WEEK_IN_MONTH 2，依此类推。</p>
<h4 id="字段9-public-final-static-int-AM-PM-9"><a class="header-anchor" href="#字段9-public-final-static-int-AM-PM-9">¶</a>(字段9) public final static int AM_PM = 9;</h4>
<p>说明：上午 还是 下午<br>
取值：可以是AM 或 PM。AM为0,表示上午；PM为1,表示下午。</p>
<h4 id="字段10-public-final-static-int-HOUR-10"><a class="header-anchor" href="#字段10-public-final-static-int-HOUR-10">¶</a>(字段10) public final static int HOUR = 10;</h4>
<p>说明：指示一天中的第几小时。<br>
HOUR 用于 12 小时制时钟 (0 - 11)。中午和午夜用 0 表示，不用 12 表示。</p>
<h4 id="字段11-public-final-static-int-HOUR-OF-DAY-11"><a class="header-anchor" href="#字段11-public-final-static-int-HOUR-OF-DAY-11">¶</a>(字段11) public final static int HOUR_OF_DAY = 11;</h4>
<p>说明：指示一天中的第几小时。<br>
HOUR_OF_DAY 用于 24 小时制时钟。例如，在 10:04:15.250 PM 这一时刻，HOUR_OF_DAY 为 22。</p>
<h4 id="字段12-public-final-static-int-MINUTE-12"><a class="header-anchor" href="#字段12-public-final-static-int-MINUTE-12">¶</a>(字段12) public final static int MINUTE = 12;</h4>
<p>说明：一小时中的第几分钟。<br>
例如，在 10:04:15.250 PM这一时刻，MINUTE 为 4。</p>
<h4 id="字段13-public-final-static-int-SECOND-13"><a class="header-anchor" href="#字段13-public-final-static-int-SECOND-13">¶</a>(字段13) public final static int SECOND = 13;</h4>
<p>说明：一分钟中的第几秒。<br>
例如，在 10:04:15.250 PM 这一时刻，SECOND 为 15。</p>
<h4 id="字段14-public-final-static-int-MILLISECOND-14"><a class="header-anchor" href="#字段14-public-final-static-int-MILLISECOND-14">¶</a>(字段14) public final static int MILLISECOND = 14;</h4>
<p>说明：一秒中的第几毫秒。<br>
例如，在 10:04:15.250 PM 这一时刻，MILLISECOND 为 250。</p>
<h4 id="字段15-public-final-static-int-ZONE-OFFSET-15"><a class="header-anchor" href="#字段15-public-final-static-int-ZONE-OFFSET-15">¶</a>(字段15) public final static int ZONE_OFFSET = 15;</h4>
<p>说明：毫秒为单位指示距 GMT 的大致偏移量。</p>
<h4 id="字段16-public-final-static-int-DST-OFFSET-16"><a class="header-anchor" href="#字段16-public-final-static-int-DST-OFFSET-16">¶</a>(字段16) public final static int DST_OFFSET = 16;</h4>
<p>说明：毫秒为单位指示夏令时的偏移量。<br>
public final static int FIELD_COUNT = 17;</p>
<h4 id="这17个字段是保存在int数组中。定义如下："><a class="header-anchor" href="#这17个字段是保存在int数组中。定义如下：">¶</a>这17个字段是保存在int数组中。定义如下：</h4>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 保存这17个字段的数组</span>
<span class="token keyword">protected</span> <span class="token keyword">int</span>  fields<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 数组的定义函数</span>
<span class="token keyword">protected</span> <span class="token class-name">Calendar</span><span class="token punctuation">(</span><span class="token class-name">TimeZone</span> zone<span class="token punctuation">,</span> <span class="token class-name">Locale</span> aLocale<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
 <span class="token comment">// 初始化“fields数组”</span>
 fields <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>FIELD_COUNT<span class="token punctuation">]</span><span class="token punctuation">;</span>
 isSet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">boolean</span><span class="token punctuation">[</span>FIELD_COUNT<span class="token punctuation">]</span><span class="token punctuation">;</span>
 stamp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>FIELD_COUNT<span class="token punctuation">]</span><span class="token punctuation">;</span>
 
 <span class="token keyword">this</span><span class="token punctuation">.</span>zone <span class="token operator">=</span> zone<span class="token punctuation">;</span>
 <span class="token function">setWeekCountData</span><span class="token punctuation">(</span>aLocale<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>protected Calendar(TimeZone zone, Locale aLocale) 这是Calendar的构造函数。它会被它的子类的构造函数调用到，从而新建“保存Calendar的17个字段数据”的数组。</p>
<h3 id="3-Calendar-各个字段值的计算"><a class="header-anchor" href="#3-Calendar-各个字段值的计算">¶</a>3. Calendar 各个字段值的计算</h3>
<p>下面以get(int field)为例，简要的说明Calendar的17个字段的计算和操作。</p>
<h4 id="get-int-field-是获取“field”字段的值。它的定义如下："><a class="header-anchor" href="#get-int-field-是获取“field”字段的值。它的定义如下：">¶</a>get(int field)是获取“field”字段的值。它的定义如下：</h4>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">complete</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isTimeSet<span class="token punctuation">)</span>
 <span class="token function">updateTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>areFieldsSet <span class="token operator">||</span> <span class="token operator">!</span>areAllFieldsSet<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token function">computeFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// fills in unset fields</span>
 areAllFieldsSet <span class="token operator">=</span> areFieldsSet <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">updateTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token function">computeTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 isTimeSet <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token function">updateTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 调用到的 <span class="token function">computeTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 定义在 <span class="token class-name">Calendar</span><span class="token punctuation">.</span>java的实现类中。下面，我列出<span class="token class-name">GregorianCalendar</span><span class="token punctuation">.</span>java中<span class="token function">computeTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>的实现：
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">computeTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token comment">// In non-lenient mode, perform brief checking of calendar</span>
 <span class="token comment">// fields which have been set externally. Through this</span>
 <span class="token comment">// checking, the field values are stored in originalFields[]</span>
 <span class="token comment">// to see if any of them are normalized later.</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isLenient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>originalFields <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  originalFields <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>FIELD_COUNT<span class="token punctuation">]</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>
 <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> field <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> field <span class="token operator">&lt;</span> FIELD_COUNT<span class="token punctuation">;</span> field<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">int</span> value <span class="token operator">=</span> <span class="token function">internalGet</span><span class="token punctuation">(</span>field<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isExternallySet</span><span class="token punctuation">(</span>field<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// Quick validation for any out of range values</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">&lt;</span> <span class="token function">getMinimum</span><span class="token punctuation">(</span>field<span class="token punctuation">)</span> <span class="token operator">||</span> value <span class="token operator">></span> <span class="token function">getMaximum</span><span class="token punctuation">(</span>field<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
   <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token function">getFieldName</span><span class="token punctuation">(</span>field<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
  originalFields<span class="token punctuation">[</span>field<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>
 <span class="token punctuation">&#125;</span>
 
 <span class="token comment">// Let the super class determine which calendar fields to be</span>
 <span class="token comment">// used to calculate the time.</span>
 <span class="token keyword">int</span> fieldMask <span class="token operator">=</span> <span class="token function">selectFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
 <span class="token comment">// The year defaults to the epoch start. We don't check</span>
 <span class="token comment">// fieldMask for YEAR because YEAR is a mandatory field to</span>
 <span class="token comment">// determine the date.</span>
 <span class="token keyword">int</span> year <span class="token operator">=</span> <span class="token function">isSet</span><span class="token punctuation">(</span>YEAR<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">internalGet</span><span class="token punctuation">(</span>YEAR<span class="token punctuation">)</span> <span class="token operator">:</span> EPOCH_YEAR<span class="token punctuation">;</span>
 
 <span class="token keyword">int</span> era <span class="token operator">=</span> <span class="token function">internalGetEra</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>era <span class="token operator">==</span> BCE<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 year <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">-</span> year<span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>era <span class="token operator">!=</span> CE<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token comment">// Even in lenient mode we disallow ERA values other than CE &amp; BCE.</span>
 <span class="token comment">// (The same normalization rule as add()/roll() could be</span>
 <span class="token comment">// applied here in lenient mode. But this checking is kept</span>
 <span class="token comment">// unchanged for compatibility as of 1.5.)</span>
 <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string">"Invalid era"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>
 
 <span class="token comment">// If year is 0 or negative, we need to set the ERA value later.</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>year <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">isSet</span><span class="token punctuation">(</span>ERA<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 fieldMask <span class="token operator">|=</span> ERA_MASK<span class="token punctuation">;</span>
 <span class="token function">setFieldsComputed</span><span class="token punctuation">(</span>ERA_MASK<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>
 
 <span class="token comment">// Calculate the time of day. We rely on the convention that</span>
 <span class="token comment">// an UNSET field has 0.</span>
 <span class="token keyword">long</span> timeOfDay <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isFieldSet</span><span class="token punctuation">(</span>fieldMask<span class="token punctuation">,</span> HOUR_OF_DAY<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 timeOfDay <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span> <span class="token function">internalGet</span><span class="token punctuation">(</span>HOUR_OF_DAY<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
 timeOfDay <span class="token operator">+=</span> <span class="token function">internalGet</span><span class="token punctuation">(</span>HOUR<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// The default value of AM_PM is 0 which designates AM.</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isFieldSet</span><span class="token punctuation">(</span>fieldMask<span class="token punctuation">,</span> AM_PM<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  timeOfDay <span class="token operator">+=</span> <span class="token number">12</span> <span class="token operator">*</span> <span class="token function">internalGet</span><span class="token punctuation">(</span>AM_PM<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>
 <span class="token punctuation">&#125;</span>
 timeOfDay <span class="token operator">*=</span> <span class="token number">60</span><span class="token punctuation">;</span>
 timeOfDay <span class="token operator">+=</span> <span class="token function">internalGet</span><span class="token punctuation">(</span>MINUTE<span class="token punctuation">)</span><span class="token punctuation">;</span>
 timeOfDay <span class="token operator">*=</span> <span class="token number">60</span><span class="token punctuation">;</span>
 timeOfDay <span class="token operator">+=</span> <span class="token function">internalGet</span><span class="token punctuation">(</span>SECOND<span class="token punctuation">)</span><span class="token punctuation">;</span>
 timeOfDay <span class="token operator">*=</span> <span class="token number">1000</span><span class="token punctuation">;</span>
 timeOfDay <span class="token operator">+=</span> <span class="token function">internalGet</span><span class="token punctuation">(</span>MILLISECOND<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
 <span class="token comment">// Convert the time of day to the number of days and the</span>
 <span class="token comment">// millisecond offset from midnight.</span>
 <span class="token keyword">long</span> fixedDate <span class="token operator">=</span> timeOfDay <span class="token operator">/</span> ONE_DAY<span class="token punctuation">;</span>
 timeOfDay <span class="token operator">%=</span> ONE_DAY<span class="token punctuation">;</span>
 <span class="token keyword">while</span> <span class="token punctuation">(</span>timeOfDay <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 timeOfDay <span class="token operator">+=</span> ONE_DAY<span class="token punctuation">;</span>
 <span class="token operator">--</span>fixedDate<span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>
 
 <span class="token comment">// Calculate the fixed date since January 1, 1 (Gregorian).</span>
 calculateFixedDate<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
 <span class="token keyword">long</span> gfd<span class="token punctuation">,</span> jfd<span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>year <span class="token operator">></span> gregorianCutoverYear <span class="token operator">&amp;&amp;</span> year <span class="token operator">></span> gregorianCutoverYearJulian<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  gfd <span class="token operator">=</span> fixedDate <span class="token operator">+</span> <span class="token function">getFixedDate</span><span class="token punctuation">(</span>gcal<span class="token punctuation">,</span> year<span class="token punctuation">,</span> fieldMask<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>gfd <span class="token operator">>=</span> gregorianCutoverDate<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  fixedDate <span class="token operator">=</span> gfd<span class="token punctuation">;</span>
  <span class="token keyword">break</span> calculateFixedDate<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  jfd <span class="token operator">=</span> fixedDate <span class="token operator">+</span> <span class="token function">getFixedDate</span><span class="token punctuation">(</span><span class="token function">getJulianCalendarSystem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> year<span class="token punctuation">,</span> fieldMask<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>year <span class="token operator">&lt;</span> gregorianCutoverYear <span class="token operator">&amp;&amp;</span> year <span class="token operator">&lt;</span> gregorianCutoverYearJulian<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  jfd <span class="token operator">=</span> fixedDate <span class="token operator">+</span> <span class="token function">getFixedDate</span><span class="token punctuation">(</span><span class="token function">getJulianCalendarSystem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> year<span class="token punctuation">,</span> fieldMask<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>jfd <span class="token operator">&lt;</span> gregorianCutoverDate<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  fixedDate <span class="token operator">=</span> jfd<span class="token punctuation">;</span>
  <span class="token keyword">break</span> calculateFixedDate<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  gfd <span class="token operator">=</span> fixedDate <span class="token operator">+</span> <span class="token function">getFixedDate</span><span class="token punctuation">(</span>gcal<span class="token punctuation">,</span> year<span class="token punctuation">,</span> fieldMask<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
  gfd <span class="token operator">=</span> fixedDate <span class="token operator">+</span> <span class="token function">getFixedDate</span><span class="token punctuation">(</span>gcal<span class="token punctuation">,</span> year<span class="token punctuation">,</span> fieldMask<span class="token punctuation">)</span><span class="token punctuation">;</span>
  jfd <span class="token operator">=</span> fixedDate <span class="token operator">+</span> <span class="token function">getFixedDate</span><span class="token punctuation">(</span><span class="token function">getJulianCalendarSystem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> year<span class="token punctuation">,</span> fieldMask<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>
 <span class="token comment">// Now we have to determine which calendar date it is.</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>gfd <span class="token operator">>=</span> gregorianCutoverDate<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>jfd <span class="token operator">>=</span> gregorianCutoverDate<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  fixedDate <span class="token operator">=</span> gfd<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// The date is in an "overlapping" period. No way</span>
  <span class="token comment">// to disambiguate it. Determine it using the</span>
  <span class="token comment">// previous date calculation.</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>calsys <span class="token operator">==</span> gcal <span class="token operator">||</span> calsys <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
   fixedDate <span class="token operator">=</span> gfd<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
   fixedDate <span class="token operator">=</span> jfd<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
 <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>jfd <span class="token operator">&lt;</span> gregorianCutoverDate<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  fixedDate <span class="token operator">=</span> jfd<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// The date is in a "missing" period.</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isLenient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
   <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string">"the specified date doesn't exist"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token comment">// Take the Julian date for compatibility, which</span>
  <span class="token comment">// will produce a Gregorian date.</span>
  fixedDate <span class="token operator">=</span> jfd<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
 <span class="token punctuation">&#125;</span>
 <span class="token punctuation">&#125;</span>
 
 <span class="token comment">// millis represents local wall-clock time in milliseconds.</span>
 <span class="token keyword">long</span> millis <span class="token operator">=</span> <span class="token punctuation">(</span>fixedDate <span class="token operator">-</span> EPOCH_OFFSET<span class="token punctuation">)</span> <span class="token operator">*</span> ONE_DAY <span class="token operator">+</span> timeOfDay<span class="token punctuation">;</span>
 
 <span class="token comment">// Compute the time zone offset and DST offset. There are two potential</span>
 <span class="token comment">// ambiguities here. We'll assume a 2:00 am (wall time) switchover time</span>
 <span class="token comment">// for discussion purposes here.</span>
 <span class="token comment">// 1. The transition into DST. Here, a designated time of 2:00 am - 2:59 am</span>
 <span class="token comment">// can be in standard or in DST depending. However, 2:00 am is an invalid</span>
 <span class="token comment">// representation (the representation jumps from 1:59:59 am Std to 3:00:00 am DST).</span>
 <span class="token comment">// We assume standard time.</span>
 <span class="token comment">// 2. The transition out of DST. Here, a designated time of 1:00 am - 1:59 am</span>
 <span class="token comment">// can be in standard or DST. Both are valid representations (the rep</span>
 <span class="token comment">// jumps from 1:59:59 DST to 1:00:00 Std).</span>
 <span class="token comment">// Again, we assume standard time.</span>
 <span class="token comment">// We use the TimeZone object, unless the user has explicitly set the ZONE_OFFSET</span>
 <span class="token comment">// or DST_OFFSET fields; then we use those fields.</span>
 <span class="token class-name">TimeZone</span> zone <span class="token operator">=</span> <span class="token function">getZone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>zoneOffsets <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 zoneOffsets <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>
 <span class="token keyword">int</span> tzMask <span class="token operator">=</span> fieldMask <span class="token operator">&amp;</span> <span class="token punctuation">(</span>ZONE_OFFSET_MASK<span class="token operator">|</span>DST_OFFSET_MASK<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>tzMask <span class="token operator">!=</span> <span class="token punctuation">(</span>ZONE_OFFSET_MASK<span class="token operator">|</span>DST_OFFSET_MASK<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>zone <span class="token keyword">instanceof</span> <span class="token class-name">ZoneInfo</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">ZoneInfo</span><span class="token punctuation">)</span>zone<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getOffsetsByWall</span><span class="token punctuation">(</span>millis<span class="token punctuation">,</span> zoneOffsets<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">int</span> gmtOffset <span class="token operator">=</span> <span class="token function">isFieldSet</span><span class="token punctuation">(</span>fieldMask<span class="token punctuation">,</span> ZONE_OFFSET<span class="token punctuation">)</span> <span class="token operator">?</span>
  <span class="token function">internalGet</span><span class="token punctuation">(</span>ZONE_OFFSET<span class="token punctuation">)</span> <span class="token operator">:</span> zone<span class="token punctuation">.</span><span class="token function">getRawOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  zone<span class="token punctuation">.</span><span class="token function">getOffsets</span><span class="token punctuation">(</span>millis <span class="token operator">-</span> gmtOffset<span class="token punctuation">,</span> zoneOffsets<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>
 <span class="token punctuation">&#125;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>tzMask <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isFieldSet</span><span class="token punctuation">(</span>tzMask<span class="token punctuation">,</span> ZONE_OFFSET<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  zoneOffsets<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">internalGet</span><span class="token punctuation">(</span>ZONE_OFFSET<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isFieldSet</span><span class="token punctuation">(</span>tzMask<span class="token punctuation">,</span> DST_OFFSET<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  zoneOffsets<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">internalGet</span><span class="token punctuation">(</span>DST_OFFSET<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>
 <span class="token punctuation">&#125;</span>
 
 <span class="token comment">// Adjust the time zone offset values to get the UTC time.</span>
 millis <span class="token operator">-=</span> zoneOffsets<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> zoneOffsets<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
 
 <span class="token comment">// Set this calendar's time in milliseconds</span>
 time <span class="token operator">=</span> millis<span class="token punctuation">;</span>
 
 <span class="token keyword">int</span> mask <span class="token operator">=</span> <span class="token function">computeFields</span><span class="token punctuation">(</span>fieldMask <span class="token operator">|</span> <span class="token function">getSetStateFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> tzMask<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isLenient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> field <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> field <span class="token operator">&lt;</span> FIELD_COUNT<span class="token punctuation">;</span> field<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isExternallySet</span><span class="token punctuation">(</span>field<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">continue</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>originalFields<span class="token punctuation">[</span>field<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token function">internalGet</span><span class="token punctuation">(</span>field<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// Restore the original field values</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">arraycopy</span><span class="token punctuation">(</span>originalFields<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> fields<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> fields<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token function">getFieldName</span><span class="token punctuation">(</span>field<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
 <span class="token punctuation">&#125;</span>
 <span class="token punctuation">&#125;</span>
 <span class="token function">setFieldsNormalized</span><span class="token punctuation">(</span>mask<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="1-internalGet-field"><a class="header-anchor" href="#1-internalGet-field">¶</a>(1)internalGet(field)</h4>
<p>下面，我们看看internalGet(field)的定义。如下：</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 获取Calendar实例</span>
<span class="token class-name">Calendar</span> cal <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取MONTH的最大值</span>
<span class="token keyword">int</span> max <span class="token operator">=</span> cal<span class="token punctuation">.</span><span class="token function">getMaximum</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>MONTH<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>若要获取其它字段的最大值，只需要将示例中的MONTH相应的替换成其它字段名即可。</p>
<h4 id="2-getActualMaximum-int-field"><a class="header-anchor" href="#2-getActualMaximum-int-field">¶</a>(2) getActualMaximum(int field)</h4>
<p>作用：获取“当前日期下，该字段的最大值”。 示例：以“MONTH”字段来说。使用方法为：</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 获取Calendar实例</span>
<span class="token class-name">Calendar</span> cal <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取当前MONTH的最大值</span>
<span class="token keyword">int</span> max <span class="token operator">=</span> cal<span class="token punctuation">.</span><span class="token function">getActualMaximum</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>MONTH<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>若要获取其它字段的最大值，只需要将示例中的MONTH相应的替换成其它字段名即可。<br>
注意：对比getActualMaximum() 和 getMaximum() 的区别。参考下面的对比示例，<br>
A、 getMaximum() 获取的“字段最大值”，是指在综合所有的日期，在所有这些日期中得出的“字段最大值”。<br>
例如，getMaximum(Calendar.DATE)的目的是“获取‘日的最大值’”。综合所有的日期，得出一个月最多有31天。因此，getMaximum(Calendar.DATE)的返回值是“31”！<br>
B、 getActualMaximum() 获取的“当前日期时，该字段的最大值”。<br>
例如，当日期为2013-09-01时，getActualMaximum(Calendar.DATE)是获取“日的最大值”是“30”。当前日期是9月份，而9月只有30天。因此，getActualMaximum(Calendar.DATE)的返回值是“30”！</p>
<h4 id="3-getMinimum-int-field"><a class="header-anchor" href="#3-getMinimum-int-field">¶</a>(3) getMinimum(int field)</h4>
<p>作用：获取“字段的最小值”。注意“对比它和 getActualMinimum() 的区别”。 示例：以“MONTH”字段来说。使用方法为：</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 获取Calendar实例</span>
<span class="token class-name">Calendar</span> cal <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取MONTH的最小值</span>
<span class="token keyword">int</span> min <span class="token operator">=</span> cal<span class="token punctuation">.</span><span class="token function">getMinimum</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>MONTH<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="4-getActualMinimum-int-field"><a class="header-anchor" href="#4-getActualMinimum-int-field">¶</a>(4) getActualMinimum(int field)</h4>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//作用：获取“当前日期下，该字段的最小值”。 示例：以“MONTH”字段来说。使用方法为：</span>
<span class="token comment">// 获取Calendar实例</span>
<span class="token class-name">Calendar</span> cal <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取MONTH的最小值</span>
<span class="token keyword">int</span> min <span class="token operator">=</span> cal<span class="token punctuation">.</span><span class="token function">getMinimum</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>MONTH<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>若要获取其它字段的最小值，只需要将示例中的MONTH相应的替换成其它字段名即可。<br>
注意：在Java默认的Calendar中，虽然 getMinimum() 和 getActualMinimum() 的含义不同；但是，它们的返回值是一样的。因为Calendar的默认是返回GregorianCalendar对象，而在GregorianCalendar.java中，getMinimum() 和 getActualMinimum() 返回值一样。</p>
<h4 id="（5-get-int-field"><a class="header-anchor" href="#（5-get-int-field">¶</a>（5) get(int field)</h4>
<p>作用：获取“字段的当前值”。获取field字段的当前值。 示例：以“MONTH”字段来说。“获取MONTH的当前值”的方法为：</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 获取Calendar实例</span>
<span class="token class-name">Calendar</span> cal <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取“cal日历”的当前MONTH值</span>
<span class="token keyword">int</span> MONTH <span class="token operator">=</span> cal<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>MONTH<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>若要获取其它字段的当前值，只需要将示例中的MONTH相应的替换成其它字段名即可。</p>
<h4 id="（6-set-int-field-int-value"><a class="header-anchor" href="#（6-set-int-field-int-value">¶</a>（6) set(int field, int value)</h4>
<p>作用：设置“字段的当前值”。设置field字段的当前值为value 示例：以“MONTH”字段来说。“设置MONTH的当前值”的方法为：</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 获取Calendar实例</span>
<span class="token class-name">Calendar</span> cal <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 设置“cal日历”的当前MONTH值为 1988年</span>
cal<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>MONTH<span class="token punctuation">,</span> <span class="token number">1988</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>说明：<br>
A、1988 是想要设置的MONTH的当前值。这个设置值必须是整数。<br>
B、若要设置其它字段的当前值，只需要将示例中的MONTH相应的替换成其它字段名即可。</p>
<h4 id="7-add-int-field-int-value"><a class="header-anchor" href="#7-add-int-field-int-value">¶</a>(7) add(int field, int value)</h4>
<p>作用：给“字段的当前值”添加值。给field字段的当前值添加value。 示例：以“MONTH”字段来说。方法如下：</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 获取Calendar实例，并设置日期为“2013-09-01”</span>
<span class="token class-name">Calendar</span> cal <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cal<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>YEAR<span class="token punctuation">,</span> <span class="token number">2013</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cal<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>MONTH<span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cal<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DATE<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 给“cal日历”的当前MONTH值 “添加-10”</span>
cal<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>MONTH<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>说明：<br>
A、 -10 是添加值。<br>
添加值可以为正数，也可以是负数。<br>
正数表示将日期增加，负数表示将日期减少。<br>
假设：现在cal的值是“2013-09-01”，现在我们将MONTH字段值增加-10。得到的结果是：“2012-10-01”。<br>
为什么会这样呢？“2013-09-01”增加-10，也就是将日期向前减少10个月；得到的结果就是“2012-10-01”。<br>
B、 Calendar的17个字段中：除了回滚Calendar.ZONE_OFFSET时，会抛出IllegalArgumentException异常；其它的字段都支持该操作。<br>
C、 若要设置其它字段的当前值，只需要将示例中的MONTH相应的替换成其它字段名即可。</p>
<h4 id="8-roll-int-field-int-value"><a class="header-anchor" href="#8-roll-int-field-int-value">¶</a>(8) roll(int field, int value)</h4>
<p>作用：回滚“字段的当前值” 示例：以“MONTH”字段来说。“回滚MONTH的当前值”的方法为：</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 获取Calendar实例，并设置日期为“2013-09-01”</span>
<span class="token class-name">Calendar</span> cal <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cal<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>YEAR<span class="token punctuation">,</span> <span class="token number">2013</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cal<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>MONTH<span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cal<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DATE<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 将“cal日历”的当前MONTH值 “向前滚动10”</span>
cal<span class="token punctuation">.</span><span class="token function">roll</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>MONTH<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>说明：<br>
A、 -10 是回滚值。<br>
当回滚值是负数时，表示将当前字段向前滚；<br>
当回滚值是正数时，表示将当前字段向后滚。<br>
回滚Calendar中某一字段时，不更改更大的字段！<br>
这是roll()与add()的根据区别！add()可能会更改更大字段，比如“使用add()修改‘MONTH’字段，可能会引起‘YEAR’字段的改变”；但是roll()不会更改更大的字段，例如“使用roll()修改‘MONTH’字段，不回引起‘YEAR’字段的改变。”<br>
假设：现在cal的值是“2013-09-01”，现在我们将MONTH字段值增加-10。得到的结果是：“2013-10-01”。<br>
为什么会这样呢？这就是因为“回滚”就是“在最小值和最大值之间来回滚动”。本例中，MONTH是9月，前回滚10，得到的值是10月，但是roll()不会改变“比MONTH”更大的字段，所以YEAR字段不会改变。所以结果是“2013-10-01”。<br>
B、 Calendar的17个字段中：除了回滚Calendar.ZONE_OFFSET时，会抛出IllegalArgumentException异常；其它的字段都支持该操作。<br>
C、 若要设置其它字段的当前值，只需要将示例中的MONTH相应的替换成其它字段名即可。</p>
<h4 id="9-clear-int-field"><a class="header-anchor" href="#9-clear-int-field">¶</a>(9) clear(int field)</h4>
<p>作用：清空“字段的当前值”。所谓清空，实际上是将“field”的值设置为0；若field最小值为1,则设置为1。 示例：以“MONTH”字段来说。“清空MONTH”的方法为：</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 获取Calendar实例，并设置日期为“9月”</span>
<span class="token class-name">Calendar</span> cal <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cal<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>MONTH<span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 清空MONTH</span>
cal<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>MONTH<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>若要判断其它字段，只需要将示例中的MONTH相应的替换成其它字段名即可。</p>
<h3 id="2-Calendar的其它函数"><a class="header-anchor" href="#2-Calendar的其它函数">¶</a>2. Calendar的其它函数</h3>
<h4 id="1-日期比较函数"><a class="header-anchor" href="#1-日期比较函数">¶</a>(1) 日期比较函数</h4>
<p>Calendar的比较函数，主要有以下几个：</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> object<span class="token punctuation">)</span>
<span class="token comment">// 当前Calendar对象 是否 早于calendar</span>
<span class="token keyword">boolean</span> <span class="token function">before</span><span class="token punctuation">(</span><span class="token class-name">Object</span> calendar<span class="token punctuation">)</span>
<span class="token comment">// 当前Calendar对象 是否 晚于calendar</span>
<span class="token keyword">boolean</span> <span class="token function">after</span><span class="token punctuation">(</span><span class="token class-name">Object</span> calendar<span class="token punctuation">)</span>
<span class="token comment">// 比较“当前Calendar对象”和“calendar”。</span>
<span class="token comment">// 若 早于 “calendar” 则，返回-1</span>
<span class="token comment">// 若 相等， 则，返回0</span>
<span class="token comment">// 若 晚于 “calendar” 则，返回1</span>
<span class="token keyword">int</span> <span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span> anotherCalendar<span class="token punctuation">)</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="2-“宽容”函数"><a class="header-anchor" href="#2-“宽容”函数">¶</a>(2) “宽容”函数</h4>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 设置“Calendar的宽容度”</span>
<span class="token keyword">void</span> <span class="token function">setLenient</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> value<span class="token punctuation">)</span>
<span class="token comment">// 获取“Calendar的宽容度”</span>
<span class="token keyword">boolean</span> <span class="token function">isLenient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>这些函数的使用示例，请参考CalendarTest.java示例中的 testLenientAPIs() 函数。<br>
说明：<br>
Calendar 有两种解释日历字段的模式，即 lenient 和 non-lenient。<br>
A、 当 Calendar 处于 lenient 模式时，它可接受比它所生成的日历字段范围更大范围内的值。当 Calendar 重新计算日历字段值，以便由 get() 返回这些值时，所有日历字段都被标准化。<br>
例如，lenient 模式下的 GregorianCalendar 将 MONTH == JANUARY、DAY_OF_MONTH == 32 解释为 February 1。<br>
B、 当 Calendar 处于 non-lenient 模式时，如果其日历字段中存在任何不一致性，它都会抛出一个异常。<br>
例如，GregorianCalendar 总是在 1 与月份的长度之间生成 DAY_OF_MONTH 值。如果已经设置了任何超出范围的字段值，那么在计算时间或日历字段值时，处于 non-lenient 模式下的 GregorianCalendar 会抛出一个异常。<br>
注意：在(02)步骤中的异常，在使用set()时不会抛出，而需要在使用get()、getTimeInMillis()、getTime()、add() 和 roll() 等函数中才抛出。因为set()只是设置了一个修改标志，而get()等方法才会引起时间的重新计算，此时才会抛出异常！</p>
<h4 id="3-“年月日-时分秒-”、Date、TimeZone、MilliSecond函数"><a class="header-anchor" href="#3-“年月日-时分秒-”、Date、TimeZone、MilliSecond函数">¶</a>(3) “年月日(时分秒)”、Date、TimeZone、MilliSecond函数</h4>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 设置“年月日”</span>
<span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">int</span> year<span class="token punctuation">,</span> <span class="token keyword">int</span> month<span class="token punctuation">,</span> <span class="token keyword">int</span> day<span class="token punctuation">)</span>
<span class="token comment">// 设置“年月日时分”</span>
<span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">int</span> year<span class="token punctuation">,</span> <span class="token keyword">int</span> month<span class="token punctuation">,</span> <span class="token keyword">int</span> day<span class="token punctuation">,</span> <span class="token keyword">int</span> hourOfDay<span class="token punctuation">,</span> <span class="token keyword">int</span> minute<span class="token punctuation">,</span> <span class="token keyword">int</span> second<span class="token punctuation">)</span>
<span class="token comment">// 设置“年月日时分秒”</span>
<span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">int</span> year<span class="token punctuation">,</span> <span class="token keyword">int</span> month<span class="token punctuation">,</span> <span class="token keyword">int</span> day<span class="token punctuation">,</span> <span class="token keyword">int</span> hourOfDay<span class="token punctuation">,</span> <span class="token keyword">int</span> minute<span class="token punctuation">)</span>
<span class="token comment">// 获取Calendar对应的日期</span>
<span class="token keyword">final</span> <span class="token class-name">Date</span> <span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 设置Calendar为date</span>
<span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token function">setTime</span><span class="token punctuation">(</span><span class="token class-name">Date</span> date<span class="token punctuation">)</span>
<span class="token comment">// 获取Calendar对应的时区</span>
<span class="token class-name">TimeZone</span> <span class="token function">getTimeZone</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 设置Calendar对应的时区</span>
<span class="token keyword">void</span> <span class="token function">setTimeZone</span><span class="token punctuation">(</span><span class="token class-name">TimeZone</span> timezone<span class="token punctuation">)</span>
<span class="token comment">// 获取Calendar对应的milliscondes值，就是“Calendar当前日期”距离“1970-01-01 0:00:00 GMT”的毫秒数</span>
<span class="token keyword">long</span> <span class="token function">getTimeInMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 设置Calendar对应的milliscondes值</span>
<span class="token keyword">void</span> <span class="token function">setTimeInMillis</span><span class="token punctuation">(</span><span class="token keyword">long</span> milliseconds<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>这些函数的使用示例，请参考CalendarTest.java示例中的 testTimeAPIs() 函数。</p>
<h4 id="4-其它操作"><a class="header-anchor" href="#4-其它操作">¶</a>(4) 其它操作</h4>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 克隆Calendar</span>
<span class="token class-name">Object</span> <span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 获取“每周的第一天是星期几”。例如，在美国，这一天是 SUNDAY，而在法国，这一天是 MONDAY。</span>
<span class="token keyword">int</span> <span class="token function">getFirstDayOfWeek</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 设置“每周的第一天是星期几”。例如，在美国，这一天是 SUNDAY，而在法国，这一天是 MONDAY。</span>
<span class="token keyword">void</span> <span class="token function">setFirstDayOfWeek</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span>
<span class="token comment">// 获取一年中第一个星期所需的最少天数，例如，如果定义第一个星期包含一年第一个月的第一天，则此方法将返回 1。如果最少天数必须是一整个星期，则此方法将返回 7。</span>
<span class="token keyword">int</span> <span class="token function">getMinimalDaysInFirstWeek</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 设置一年中第一个星期所需的最少天数，例如，如果定义第一个星期包含一年第一个月的第一天，则使用值 1 调用此方法。如果最少天数必须是一整个星期，则使用值 7 调用此方法。</span>
<span class="token keyword">void</span> <span class="token function">setMinimalDaysInFirstWeek</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>这些函数的使用示例，请参考CalendarTest.java示例中的 testOtherAPIs() 函数。</p>
<h2 id="第四部分-Calendar使用示例"><a class="header-anchor" href="#第四部分-Calendar使用示例">¶</a>第四部分 Calendar使用示例</h2>
<p>下面，我们通过示例学习使用Calendar的API。CalendarTest.java的源码如下：</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Calendar</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">TimeZone</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Random</span><span class="token punctuation">;</span>
 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CalendarTest</span> <span class="token punctuation">&#123;</span>
 
 <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 
 <span class="token comment">// 测试Calendar的“17个字段的公共函数接口”</span>
 <span class="token function">testAllCalendarSections</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
 
 <span class="token comment">// 测试Calendar的“比较接口”</span>
 <span class="token function">testComparatorAPIs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
 
 <span class="token comment">// 测试Calendar的“比较接口”</span>
 <span class="token function">testLenientAPIs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
 
 <span class="token comment">// 测试Calendar的Date、TimeZone、MilliSecond等相关函数</span>
 <span class="token function">testTimeAPIs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
 
 <span class="token comment">// 测试Calendar的clone()，getFirstDayOfWeek()等接口</span>
 <span class="token function">testOtherAPIs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
 
 <span class="token punctuation">&#125;</span>
 
 
 <span class="token comment">/**
 * 测试“Calendar的字段”
 *
 * @param cal -- Calendar对象
 * @param field -- 要测试的“Calendar字段”。可以为以下值：
 * Calendar.YEAR, Calendar.MONTH, Calendar.DATE, ... 等等
 * @param title -- 标题
 */</span>
 <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">testSection</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span> cal<span class="token punctuation">,</span> <span class="token keyword">int</span> field<span class="token punctuation">,</span> <span class="token class-name">String</span> title<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token keyword">final</span> <span class="token class-name">Random</span> random <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">final</span> <span class="token class-name">Date</span> date <span class="token operator">=</span> cal<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
 <span class="token keyword">final</span> <span class="token keyword">int</span> min <span class="token operator">=</span> cal<span class="token punctuation">.</span><span class="token function">getMinimum</span><span class="token punctuation">(</span>field<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取"字段最小值"</span>
 <span class="token keyword">final</span> <span class="token keyword">int</span> max <span class="token operator">=</span> cal<span class="token punctuation">.</span><span class="token function">getMaximum</span><span class="token punctuation">(</span>field<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取“字段最大值”</span>
 
 <span class="token keyword">final</span> <span class="token keyword">int</span> actualMin <span class="token operator">=</span> cal<span class="token punctuation">.</span><span class="token function">getActualMinimum</span><span class="token punctuation">(</span>field<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取"当前日期下，该字段最小值"</span>
 <span class="token keyword">final</span> <span class="token keyword">int</span> actualMax <span class="token operator">=</span> cal<span class="token punctuation">.</span><span class="token function">getActualMaximum</span><span class="token punctuation">(</span>field<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取“当前日期下，该字段的最大值”</span>
 
 <span class="token comment">// 获取“字段的当前值”</span>
 <span class="token keyword">final</span> <span class="token keyword">int</span> ori <span class="token operator">=</span> cal<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>field<span class="token punctuation">)</span><span class="token punctuation">;</span>  
 
 <span class="token comment">// 设置“字段的当前值”, 并获取“设置之后的值”</span>
 <span class="token keyword">final</span> <span class="token keyword">int</span> r1 <span class="token operator">=</span> random<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span><span class="token punctuation">;</span>
 cal<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>field<span class="token punctuation">,</span> r1<span class="token punctuation">)</span><span class="token punctuation">;</span>  
 <span class="token keyword">final</span> <span class="token keyword">int</span> set <span class="token operator">=</span> cal<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>field<span class="token punctuation">)</span><span class="token punctuation">;</span>  
 <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// 回滚“字段的当前值”：在“字段最小值”和“字段最大值”之间回滚。</span>
  <span class="token comment">// “回滚值”可以为正，也可以为负。</span>
  cal<span class="token punctuation">.</span><span class="token function">roll</span><span class="token punctuation">(</span>field<span class="token punctuation">,</span> <span class="token operator">-</span>max<span class="token punctuation">)</span><span class="token punctuation">;</span>  
 <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IllegalArgumentException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// 当field == Calendar.ZONE_OFFSET时，会抛出该异常！</span>
  e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>
 <span class="token keyword">final</span> <span class="token keyword">int</span> roll <span class="token operator">=</span> cal<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>field<span class="token punctuation">)</span><span class="token punctuation">;</span>  
 
 <span class="token comment">// 获取一个随机值</span>
 <span class="token keyword">final</span> <span class="token keyword">int</span> sign <span class="token operator">=</span> <span class="token punctuation">(</span> random<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">final</span> <span class="token keyword">int</span> r2 <span class="token operator">=</span> sign <span class="token operator">*</span> random<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// 增加“字段的当前值” ，并获取“新的当前字段值”</span>
  <span class="token comment">// add的“参数值”可以为正，也可以为负。</span>
  cal<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>field<span class="token punctuation">,</span> r2<span class="token punctuation">)</span><span class="token punctuation">;</span>  
 <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IllegalArgumentException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// 当field == Calendar.ZONE_OFFSET时，会抛出该异常！</span>
  e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>
 <span class="token keyword">final</span> <span class="token keyword">int</span> add <span class="token operator">=</span> cal<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>field<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
 
 
 <span class="token comment">// 打印字段信息</span>
 <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s:\n\trange is [%d - %d] actualRange is [%d - %d]. original=%d, set(%d)=%d, roll(%d)=%d, add(%d)=%d\n"</span><span class="token punctuation">,</span>
  title<span class="token punctuation">,</span> min<span class="token punctuation">,</span> max<span class="token punctuation">,</span> actualMin<span class="token punctuation">,</span> actualMax<span class="token punctuation">,</span> ori<span class="token punctuation">,</span> r1<span class="token punctuation">,</span> set<span class="token punctuation">,</span> <span class="token operator">-</span>max<span class="token punctuation">,</span> roll<span class="token punctuation">,</span> r2<span class="token punctuation">,</span> add<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>
 
 <span class="token comment">/**
 * 测试Calendar的“17个字段的公共函数接口”
 */</span>
 <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">testAllCalendarSections</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token comment">// 00. ERA 字段</span>
 <span class="token function">testSection</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span>ERA<span class="token punctuation">,</span> <span class="token string">"Calendar.ERA"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 01. YEAR 字段</span>
 <span class="token function">testSection</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span>YEAR<span class="token punctuation">,</span> <span class="token string">"Calendar.YEAR"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 02. MONTH 字段</span>
 <span class="token function">testSection</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span>MONTH<span class="token punctuation">,</span> <span class="token string">"Calendar.MONTH"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 03. WEEK_OF_YEAR 字段</span>
 <span class="token function">testSection</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span>WEEK_OF_YEAR<span class="token punctuation">,</span> <span class="token string">"Calendar.WEEK_OF_YEAR"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 04. WEEK_OF_MONTH 字段</span>
 <span class="token function">testSection</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span>WEEK_OF_MONTH<span class="token punctuation">,</span> <span class="token string">"Calendar.WEEK_OF_MONTH"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 05. DATE 字段</span>
 <span class="token function">testSection</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span>DATE<span class="token punctuation">,</span> <span class="token string">"Calendar.DATE"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 06. DAY_OF_MONTH 字段</span>
 <span class="token function">testSection</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span>DAY_OF_MONTH<span class="token punctuation">,</span> <span class="token string">"Calendar.DAY_OF_MONTH"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 07. DAY_OF_YEAR 字段</span>
 <span class="token function">testSection</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span>DAY_OF_YEAR<span class="token punctuation">,</span> <span class="token string">"Calendar.DAY_OF_YEAR"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 08. DAY_OF_WEEK 字段</span>
 <span class="token function">testSection</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span>DAY_OF_WEEK<span class="token punctuation">,</span> <span class="token string">"Calendar.DAY_OF_WEEK"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 09. DAY_OF_WEEK_IN_MONTH 字段</span>
 <span class="token function">testSection</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span>DAY_OF_WEEK_IN_MONTH<span class="token punctuation">,</span> <span class="token string">"Calendar.DAY_OF_WEEK_IN_MONTH"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 10. AM_PM 字段</span>
 <span class="token function">testSection</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span>AM_PM<span class="token punctuation">,</span> <span class="token string">"Calendar.AM_PM"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 11. HOUR 字段</span>
 <span class="token function">testSection</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span>HOUR<span class="token punctuation">,</span> <span class="token string">"Calendar.HOUR"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 12. HOUR_OF_DAY 字段</span>
 <span class="token function">testSection</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span>HOUR_OF_DAY<span class="token punctuation">,</span> <span class="token string">"Calendar.HOUR_OF_DAY"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 13. MINUTE 字段</span>
 <span class="token function">testSection</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span>MINUTE<span class="token punctuation">,</span> <span class="token string">"Calendar.MINUTE"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 14. SECOND 字段</span>
 <span class="token function">testSection</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span>SECOND<span class="token punctuation">,</span> <span class="token string">"Calendar.SECOND"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 15. MILLISECOND 字段</span>
 <span class="token function">testSection</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span>MILLISECOND<span class="token punctuation">,</span> <span class="token string">"Calendar.MILLISECOND"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 16. ZONE_OFFSET 字段</span>
 <span class="token function">testSection</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span>ZONE_OFFSET<span class="token punctuation">,</span> <span class="token string">"Calendar.ZONE_OFFSET"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>
 
 <span class="token comment">/**
 * 测试Calendar的“比较接口”
 */</span>
 <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">testComparatorAPIs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token comment">// 新建cal1 ，且时间为1988年</span>
 <span class="token class-name">Calendar</span> cal1 <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 cal1<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>YEAR<span class="token punctuation">,</span> <span class="token number">1988</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 新建cal2 ，且时间为2000年</span>
 <span class="token class-name">Calendar</span> cal2 <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 cal2<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>YEAR<span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 新建cal3, 为cal1的克隆对象</span>
 <span class="token class-name">Calendar</span> cal3 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">)</span>cal1<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
 <span class="token comment">// equals 判断 cal1和cal2的“时间、时区等”内容是否相等</span>
 <span class="token keyword">boolean</span> isEqual12 <span class="token operator">=</span> cal1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>cal2<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// equals 判断 cal1和cal3的“时间、时区等”内容是否相等</span>
 <span class="token keyword">boolean</span> isEqual13 <span class="token operator">=</span> cal1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>cal3<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// cal1是否比cal2早</span>
 <span class="token keyword">boolean</span> isBefore <span class="token operator">=</span> cal1<span class="token punctuation">.</span><span class="token function">before</span><span class="token punctuation">(</span>cal2<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// cal1是否比cal2晚</span>
 <span class="token keyword">boolean</span> isAfter <span class="token operator">=</span> cal1<span class="token punctuation">.</span><span class="token function">after</span><span class="token punctuation">(</span>cal2<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 比较cal1和cal2</span>
 <span class="token comment">// (01) 若cal1 早于 cal2，返回-1</span>
 <span class="token comment">// (02) 若cal1 等于 cal2，返回0</span>
 <span class="token comment">// (03) 若cal1 晚于 cal2，返回1</span>
 <span class="token keyword">int</span> icompare <span class="token operator">=</span> cal1<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>cal2<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
 <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\ntestComparatorAPIs: isEuqal12=%s, isEqual13=%s, isBefore=%s, isAfter=%s, icompare=%s\n"</span><span class="token punctuation">,</span>
  isEqual12<span class="token punctuation">,</span> isEqual13<span class="token punctuation">,</span> isBefore<span class="token punctuation">,</span> isAfter<span class="token punctuation">,</span> icompare<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>
 
 <span class="token comment">/**
 * 测试Calendar的“比较接口”
 */</span>
 <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">testLenientAPIs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token class-name">Calendar</span> cal <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
  <span class="token comment">// 获取默认的“宽容度”。返回true</span>
  <span class="token keyword">boolean</span> oriLenient <span class="token operator">=</span> cal<span class="token punctuation">.</span><span class="token function">isLenient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// MONTH值只能是“0-11”，这里越界。但是由于当前cal是宽容的，所以不会抛出异常</span>
  cal<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>MONTH<span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
 
  <span class="token comment">// 设置“宽容度”为false。</span>
  cal<span class="token punctuation">.</span><span class="token function">setLenient</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 获取设置后的“宽容度”</span>
  <span class="token keyword">boolean</span> curLenient <span class="token operator">=</span> cal<span class="token punctuation">.</span><span class="token function">isLenient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// MONTH值只能是“0-11”，这里越界。而且当前cal是不宽容的，所以会产生异常。</span>
  <span class="token comment">// 但是，异常到下次计算日期时才会抛出。即，set()中不回抛出异常，而要等到get()中才会抛出异常</span>
  cal<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>MONTH<span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 此时，对cal进行读取。读取会导致重新计算cal的值，所以此时抛出异常！</span>
  <span class="token keyword">int</span> m2 <span class="token operator">=</span> cal<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>MONTH<span class="token punctuation">)</span><span class="token punctuation">;</span> 
 <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IllegalArgumentException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>
 
 <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\ntestLenientAPIs: oriLenient=%s, curLenient=%s\n"</span><span class="token punctuation">,</span>
  oriLenient<span class="token punctuation">,</span> curLenient<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>
 
 <span class="token comment">/**
 * 测试Calendar的Date、TimeZone、MilliSecond等相关函数
 */</span>
 <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">testTimeAPIs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token class-name">Calendar</span> cal <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
 <span class="token comment">// 设置cal的时区为“GMT+8”</span>
 cal<span class="token punctuation">.</span><span class="token function">setTimeZone</span><span class="token punctuation">(</span><span class="token class-name">TimeZone</span><span class="token punctuation">.</span><span class="token function">getTimeZone</span><span class="token punctuation">(</span><span class="token string">"GMT+8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 获取当前的cal时区</span>
 <span class="token class-name">TimeZone</span> timezone <span class="token operator">=</span> cal<span class="token punctuation">.</span><span class="token function">getTimeZone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
 <span class="token comment">// 设置 milliseconds</span>
 cal<span class="token punctuation">.</span><span class="token function">setTimeInMillis</span><span class="token punctuation">(</span><span class="token number">1279419645742l</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 获取 milliseconds</span>
 <span class="token keyword">long</span> millis <span class="token operator">=</span> cal<span class="token punctuation">.</span><span class="token function">getTimeInMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 设置 milliseconds之后，时间也改变了。</span>
 <span class="token comment">// 获取cal对应的日期</span>
 <span class="token class-name">Date</span> date <span class="token operator">=</span> cal<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
 <span class="token comment">// 设置时间为“1988-08-08”</span>
 cal<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">1988</span><span class="token punctuation">,</span> <span class="token number">08</span><span class="token punctuation">,</span> <span class="token number">08</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 设置时间为“1999-09-09 09:09”</span>
 cal<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">1999</span><span class="token punctuation">,</span> <span class="token number">09</span><span class="token punctuation">,</span> <span class="token number">09</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 设置时间为“2000-10-10 10:10:10”</span>
 cal<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
 <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\ntestTimeAPIs: date=%s, timezone=%s, millis=%s\n"</span><span class="token punctuation">,</span>
  date<span class="token punctuation">,</span> timezone<span class="token punctuation">,</span> millis<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>
 
 <span class="token comment">/**
 * 测试Calendar的clone()，getFirstDayOfWeek()等接口
 */</span>
 <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">testOtherAPIs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token class-name">Calendar</span> cal <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 克隆cal</span>
 <span class="token class-name">Calendar</span> clone <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">)</span>cal<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
 <span class="token comment">// 设置 为 2013-01-10。 </span>
 <span class="token comment">// 注：2013-01-01 为“星期二”，2013-01-06为“星期天”，</span>
 clone<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>YEAR<span class="token punctuation">,</span> <span class="token number">2013</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 clone<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>MONTH<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 clone<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DATE<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 设置“本年的第一个星期最少包含1天”。</span>
 <span class="token comment">// 则2013-01-10属于第2个星期</span>
 clone<span class="token punctuation">.</span><span class="token function">setMinimalDaysInFirstWeek</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">int</span> m1 <span class="token operator">=</span> clone<span class="token punctuation">.</span><span class="token function">getMinimalDaysInFirstWeek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">int</span> index1 <span class="token operator">=</span> clone<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>WEEK_OF_YEAR<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
 <span class="token comment">// 设置“本年的第一个星期最少包含7天”。</span>
 <span class="token comment">// 则2013-01-10属于第1个星期</span>
 clone<span class="token punctuation">.</span><span class="token function">setMinimalDaysInFirstWeek</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">int</span> m2 <span class="token operator">=</span> clone<span class="token punctuation">.</span><span class="token function">getMinimalDaysInFirstWeek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">int</span> index2 <span class="token operator">=</span> clone<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>WEEK_OF_YEAR<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
 <span class="token comment">// 设置“每周的第一天是星期几”。</span>
 clone<span class="token punctuation">.</span><span class="token function">setFirstDayOfWeek</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>WEDNESDAY<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 获取“每周的第一天是星期几”。</span>
 <span class="token keyword">int</span> firstdayOfWeek <span class="token operator">=</span> clone<span class="token punctuation">.</span><span class="token function">getFirstDayOfWeek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
 <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\ntestOtherAPIs: firstdayOfWeek=%s, [minimalDay, WeekOfYear]=&#123;(%s, %s), (%s, %s)&#125; %s\n"</span><span class="token punctuation">,</span>
  firstdayOfWeek<span class="token punctuation">,</span> m1<span class="token punctuation">,</span> index1<span class="token punctuation">,</span> m2<span class="token punctuation">,</span> index2<span class="token punctuation">,</span> clone<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="第五部分-自定义的Calendar接口示例"><a class="header-anchor" href="#第五部分-自定义的Calendar接口示例">¶</a>第五部分 自定义的Calendar接口示例</h2>
<p>这些接口在写日历程序时可能会用到。</p>
<p>源代码如下(CalendarSelfDefineTest.java)：</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java">
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Calendar</span><span class="token punctuation">;</span>
 
<span class="token comment">/**
 * 根据Calendar的API封装的一些常用函数
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CalendarSelfDefineTest</span> <span class="token punctuation">&#123;</span>
 
 <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token class-name">Calendar</span> cal <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
 <span class="token comment">// 设置日期为“2013-09-18”</span>
 cal<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">2013</span><span class="token punctuation">,</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span>SEPTEMBER<span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
 <span class="token comment">// 获取“年”</span>
 <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"year: %s\n"</span><span class="token punctuation">,</span> <span class="token function">getYear</span><span class="token punctuation">(</span>cal<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 获取“月”</span>
 <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"month: %s\n"</span><span class="token punctuation">,</span> <span class="token function">getMonth</span><span class="token punctuation">(</span>cal<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 获取“上月”</span>
 <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"previcou month: %s\n"</span><span class="token punctuation">,</span> <span class="token function">getLastMonth</span><span class="token punctuation">(</span>cal<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 获取“下月”</span>
 <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"next month: %s\n"</span><span class="token punctuation">,</span> <span class="token function">getNextMonth</span><span class="token punctuation">(</span>cal<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 获取“日”</span>
 <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"day: %s\n"</span><span class="token punctuation">,</span> <span class="token function">getDay</span><span class="token punctuation">(</span>cal<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 获取Cal对应星期几</span>
 <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"weekday: %s\n"</span><span class="token punctuation">,</span> <span class="token function">getWeekDay</span><span class="token punctuation">(</span>cal<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 本月天数</span>
 <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Current Month days: %s\n"</span><span class="token punctuation">,</span> <span class="token function">getMonthDays</span><span class="token punctuation">(</span>cal<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 上月天数</span>
 <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Previcous Month days: %s\n"</span><span class="token punctuation">,</span> <span class="token function">getPrevMonthDays</span><span class="token punctuation">(</span>cal<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 下月天数</span>
 <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Next Month days: %s\n"</span><span class="token punctuation">,</span> <span class="token function">getNextMonthDays</span><span class="token punctuation">(</span>cal<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 获取当月第一天的星期几</span>
 <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"First day' weekday : %s\n"</span><span class="token punctuation">,</span> <span class="token function">getFirstDayWeekday</span><span class="token punctuation">(</span>cal<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 获取当前月最后一天的星期几</span>
 <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Last day' weekday : %s\n"</span><span class="token punctuation">,</span> <span class="token function">getLastDayWeekday</span><span class="token punctuation">(</span>cal<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 获取上月最后一天的星期几</span>
 <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"PrevMonth Last day' weekday: %s\n"</span><span class="token punctuation">,</span> <span class="token function">getLastDayWeekdayOfPrevMonth</span><span class="token punctuation">(</span>cal<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// 获取下月第一天的星期几</span>
 <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"NextMonth First day' weekday: %s\n"</span><span class="token punctuation">,</span> <span class="token function">getFirstDayWeekdayOfNextMonth</span><span class="token punctuation">(</span>cal<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>
 
 <span class="token comment">/**
 * 获取“年”
 * 
 * @return 例如，2013-09-18，则返回2013
 */</span>
 <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getYear</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span> cal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token keyword">return</span> cal<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>YEAR<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span> 
 
 <span class="token comment">/**
 * 获取“月”
 * 
 * @return 返回值可以为以下值：
 * JANUARY, FEBRUARY, MARCH, APRIL, MAY, JUNE, JULY, AUGUST, SEPTEMBER, OCTOBER, NOVEMBER, DECEMBER, UNDECIMBER。
 * 其中第一个月是 JANUARY，它为 0。
 *
 * 例如，2013-09-18，则返回8
 */</span>
 <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span> cal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token keyword">return</span> cal<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>MONTH<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span> 
 
 <span class="token comment">/**
 * 获取“上一个月”
 * 
 * @return 返回值可以为以下值：
 * JANUARY, FEBRUARY, MARCH, APRIL, MAY, JUNE, JULY, AUGUST, SEPTEMBER, OCTOBER, NOVEMBER, DECEMBER, UNDECIMBER。
 * 其中第一个月是 JANUARY，它为 0。
 *
 * 例如，2012-01-12的上一个月是“11”(即DECEMBER)。
 */</span>
 <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getLastMonth</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span> cal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token keyword">return</span> <span class="token punctuation">(</span>cal<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>MONTH<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">12</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span> 
 
 <span class="token comment">/**
 * 获取“下一个月”
 * 
 * @return 返回值可以为以下值：
 * JANUARY, FEBRUARY, MARCH, APRIL, MAY, JUNE, JULY, AUGUST, SEPTEMBER, OCTOBER, NOVEMBER, DECEMBER, UNDECIMBER。
 * 其中第一个月是 JANUARY，它为 0。
 *
 * 例如，2013-12-12的下一个月是“1”(即DECEMBER)。
 */</span>
 <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getNextMonth</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span> cal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token keyword">return</span> <span class="token punctuation">(</span>cal<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>MONTH<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">13</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">12</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span> 
 
 <span class="token comment">/**
 * 获取“日”
 *
 * @return 例如，2013-09-18，则返回18
 *
 */</span>
 <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getDay</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span> cal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token keyword">return</span> cal<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DATE<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span> 
 
 <span class="token comment">/**
 * 获取“本月的天数”
 *
 * @return 例如，2013-09-18，则返回30
 *
 */</span>
 <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getMonthDays</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span> cal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token keyword">return</span> cal<span class="token punctuation">.</span><span class="token function">getActualMaximum</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DATE<span class="token punctuation">)</span><span class="token punctuation">;</span> 
 <span class="token punctuation">&#125;</span> 
 
 <span class="token comment">/**
 * 获取“上一个月的天数”
 *
 * @return 例如，2013-01-18，则返回31 (因为2012-12有31天)
 *
 */</span>
 <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getPrevMonthDays</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span> cal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token class-name">Calendar</span> tmpCal <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">)</span>cal<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 克隆cal。后面对tmpCal操作，就不会改变cal</span>
 tmpCal<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>MONTH<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 设为“上一个月”</span>
 <span class="token keyword">return</span> tmpCal<span class="token punctuation">.</span><span class="token function">getActualMaximum</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DATE<span class="token punctuation">)</span><span class="token punctuation">;</span> 
 <span class="token punctuation">&#125;</span> 
 
 <span class="token comment">/**
 * 获取“下一个月的天数”
 *
 * @return 例如，2013-12-18，则返回31 (因为2014-01有31天)
 *
 */</span>
 <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getNextMonthDays</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span> cal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token class-name">Calendar</span> tmpCal <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">)</span>cal<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 克隆cal。后面对tmpCal操作，就不会改变cal</span>
 tmpCal<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>MONTH<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 设为“下一个月”</span>
 <span class="token keyword">return</span> tmpCal<span class="token punctuation">.</span><span class="token function">getActualMaximum</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DATE<span class="token punctuation">)</span><span class="token punctuation">;</span> 
 <span class="token punctuation">&#125;</span> 
 
 <span class="token comment">/**
 * 获取Cal对应星期几
 *
 * @return 返回“星期几”，可以为以下值：
 * SUNDAY、MONDAY、TUESDAY、WEDNESDAY、THURSDAY、FRIDAY 和 SATURDAY。
 * SUNDAY为1，MONDAY为2，依次类推。
 * 例如，2013-09-18(星期三)，则返回4
 */</span>
 <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getWeekDay</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span> cal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token keyword">return</span> cal<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DAY_OF_WEEK<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span> 
 
 
 <span class="token comment">/**
 * 获取当月第一天对应星期几
 *
 * @return SUNDAY为1，MONDAY为2，依次类推。
 */</span>
 <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getFirstDayWeekday</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span> cal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 
 <span class="token class-name">Calendar</span> tmpCal <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">)</span>cal<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 克隆cal。后面对tmpCal操作，就不会改变cal</span>
 tmpCal<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DATE<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 把日期设置为当月第一天 </span>
 <span class="token keyword">return</span> tmpCal<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DAY_OF_WEEK<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span> 
 
 <span class="token comment">/**
 * 获取当前月最后一天对应星期几
 * 
 * @return SUNDAY为1，MONDAY为2，依次类推。
 */</span>
 <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getLastDayWeekday</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span> cal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token class-name">Calendar</span> tmpCal <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">)</span>cal<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 克隆cal。后面对tmpCal操作，就不会改变cal</span>
 tmpCal<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DATE<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 把日期设置为当月第一天 </span>
 tmpCal<span class="token punctuation">.</span><span class="token function">roll</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DATE<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 把日期设置为当月最后一天 </span>
 <span class="token keyword">return</span> tmpCal<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DAY_OF_WEEK<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span> 
 
 
 <span class="token comment">/**
 * 获取上月最后一天的星期几
 * 
 * @return SUNDAY为1，MONDAY为2，依次类推。
 */</span>
 <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getLastDayWeekdayOfPrevMonth</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span> cal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 
 <span class="token class-name">Calendar</span> tmpCal <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">)</span>cal<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 克隆cal。后面对tmpCal操作，就不会改变cal</span>
 tmpCal<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DATE<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 把日期设置为当月第一天 </span>
 tmpCal<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DATE<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 把日期设置为上一个月最后一天 </span>
 <span class="token keyword">return</span> tmpCal<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DAY_OF_WEEK<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span> 
 
 <span class="token comment">/**
 * 获取下月第一天的星期偏移
 * 
 * @return SUNDAY为1，MONDAY为2，依次类推。
 */</span>
 <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getFirstDayWeekdayOfNextMonth</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span> cal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 
 <span class="token class-name">Calendar</span> tmpCal <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">)</span>cal<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 克隆cal。后面对tmpCal操作，就不会改变cal</span>
 tmpCal<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>MONTH<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 设为“下一个月”</span>
 tmpCal<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DATE<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 设为“第一天” </span>
 <span class="token keyword">return</span> tmpCal<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DAY_OF_WEEK<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span> 
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</div><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="打赏" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span><div id="reward-comment">I'm so cute. Please give me money.</div><div id="qr" style="display:none;"><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/alipay-qrcode.jpg"><img loading="lazy" src="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/alipay-qrcode.jpg" alt="支付宝" title="支付宝"></a><div><span style="color:#00A3EE"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-alipay-line"></use></svg></span></div></div><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/qqpay-qrcode.png"><img loading="lazy" src="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/qqpay-qrcode.png" alt="QQ 支付" title="QQ 支付"></a><div><span style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></span></div></div><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/wechatpay-qrcode.jpg"><img loading="lazy" src="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/wechatpay-qrcode.jpg" alt="微信支付" title="微信支付"></a><div><span style="color:#2DC100"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-pay-line"></use></svg></span></div></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>momo</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="https://ppxiaodi.github.io/2020/12/11/CollectionNote/java/%E6%97%B6%E9%97%B4/Java%E4%B8%AD%E7%9A%84Calendar%E6%97%A5%E5%8E%86API%E7%94%A8%E6%B3%95%E5%AE%8C%E5%85%A8%E8%A7%A3%E6%9E%90/" title="Java中的Calendar日历API用法完全解析">https://ppxiaodi.github.io/2020/12/11/CollectionNote/java/%E6%97%B6%E9%97%B4/Java%E4%B8%AD%E7%9A%84Calendar%E6%97%A5%E5%8E%86API%E7%94%A8%E6%B3%95%E5%AE%8C%E5%85%A8%E8%A7%A3%E6%9E%90/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均默认采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> 许可协议。</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2020/12/11/CollectionNote/java/%E6%97%B6%E9%97%B4/DateTimeFormat%E5%92%8CJsonFormat/" rel="prev" title="DateTimeFormat和JsonFormat"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">DateTimeFormat和JsonFormat</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2020/12/11/CollectionNote/java/%E6%97%B6%E9%97%B4/Java%E6%97%B6%E9%97%B4%E5%A4%84%E7%90%86%E4%B9%8Borg.joda.time.DateTime/" rel="next" title="Java时间处理之org.joda.time.DateTime"><span class="post-nav-text">Java时间处理之org.joda.time.DateTime</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>要不要和我说些什么？</span><br></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2019 – 2022 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> momo</span></div><div class="powered"><span>由 <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> 驱动 v5.2.0</span><span class="footer-separator">|</span><span>主题 - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.7.0</span></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="搜索"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search-line"></use></svg></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="/js/search/local-search.js" defer></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close-line"></use></svg></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="搜索..." value=""></div><div id="local-search-result"></div></div></div></body></html>